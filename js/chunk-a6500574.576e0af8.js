(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a6500574"],{"1dde":function(t,e,a){var r=a("d039"),i=a("b622"),n=a("2d00"),o=i("species");t.exports=function(t){return n>=51||!r((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2f14":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("99af"),a("fb6a");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}var o=function(){function t(){r(this,t)}return n(t,[{key:"queryString",value:function(t){var e="";for(var a in t)e+="".concat(a,"=").concat(t[a],"&");return e.slice(0,-1)}}]),t}(),s=new o},"65f0":function(t,e,a){var r=a("861d"),i=a("e8b5"),n=a("b622"),o=n("species");t.exports=function(t,e){var a;return i(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?r(a)&&(a=a[o],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},8418:function(t,e,a){"use strict";var r=a("c04e"),i=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var o=r(e);o in t?i.f(t,o,n(0,a)):t[o]=a}},"99af":function(t,e,a){"use strict";var r=a("23e7"),i=a("d039"),n=a("e8b5"),o=a("861d"),s=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),f=a("b622"),v=a("2d00"),p=f("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",g=v>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=u("concat"),C=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},x=!g||!m;r({target:"Array",proto:!0,forced:x},{concat:function(t){var e,a,r,i,n,o=s(this),u=d(o,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(n=-1===e?o:arguments[e],C(n)){if(i=c(n.length),f+i>b)throw TypeError(h);for(a=0;a<i;a++,f++)a in n&&l(u,f,n[a])}else{if(f>=b)throw TypeError(h);l(u,f++,n)}return u.length=f,u}})},a434:function(t,e,a){"use strict";var r=a("23e7"),i=a("23cb"),n=a("a691"),o=a("50c4"),s=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),u=a("ae40"),f=d("splice"),v=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!v},{splice:function(t,e){var a,r,d,u,f,v,m=s(this),C=o(m.length),x=i(t,C),y=arguments.length;if(0===y?a=r=0:1===y?(a=0,r=C-x):(a=y-2,r=b(p(n(e),0),C-x)),C+a-r>h)throw TypeError(g);for(d=c(m,r),u=0;u<r;u++)f=x+u,f in m&&l(d,u,m[f]);if(d.length=r,a<r){for(u=x;u<C-r;u++)f=u+r,v=u+a,f in m?m[v]=m[f]:delete m[v];for(u=C;u>C-r+a;u--)delete m[u-1]}else if(a>r)for(u=C-r;u>x;u--)f=u+r-1,v=u+a-1,f in m?m[v]=m[f]:delete m[v];for(u=0;u<a;u++)m[u+x]=arguments[u+2];return m.length=C-r+a,d}})},ae40:function(t,e,a){var r=a("83ab"),i=a("d039"),n=a("5135"),o=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(n(s,t))return s[t];e||(e={});var a=[][t],l=!!n(e,"ACCESSORS")&&e.ACCESSORS,d=n(e,0)?e[0]:c,u=n(e,1)?e[1]:void 0;return s[t]=!!a&&!i((function(){if(l&&!r)return!0;var t={length:-1};l?o(t,1,{enumerable:!0,get:c}):t[1]=1,a.call(t,d,u)}))}},b727:function(t,e,a){var r=a("0366"),i=a("44ad"),n=a("7b0b"),o=a("50c4"),s=a("65f0"),c=[].push,l=function(t){var e=1==t,a=2==t,l=3==t,d=4==t,u=6==t,f=5==t||u;return function(v,p,b,h){for(var g,m,C=n(v),x=i(C),y=r(p,b,3),S=o(x.length),k=0,_=h||s,w=e?_(v,S):a?_(v,0):void 0;S>k;k++)if((f||k in x)&&(g=x[k],m=y(g,k,C),t))if(e)w[k]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:c.call(w,g)}else if(d)return!1;return u?-1:l||d?d:w}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},be7a:function(t,e,a){},cf2a:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[a("van-nav-bar",{attrs:{title:"我的订单","left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":t.back}}),a("div",{staticClass:"order-bg"}),a("div",{staticClass:"tab-box"},[a("van-tabs",{staticClass:"tabs-box",attrs:{color:"#0C34BA","line-height":"2px","title-active-color":"#0C34BA"},on:{change:t.toggleStatus},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabItems,(function(e,r){return a("van-tab",{key:r,attrs:{title:e.title}},[t.orderDatas.length>0?a("div",t._l(t.orderDatas,(function(e,r){return a("div",{key:r,staticClass:"tab-item"},[a("div",{staticClass:"clearfix tab-item-box"},[a("div",{staticClass:"fl no"},[t._v(t._s(e.orderId))]),a("div",{staticClass:"fr"},[1==e.status?a("div",{staticClass:"text",on:{click:function(a){return t.confirmReceive(e,r)}}},[t._v("确认收货")]):a("div",{staticClass:"text-box-tab"},[a("div",{staticClass:"finished"},[t._v("已完成")]),a("div",{staticClass:"remove",on:{click:function(a){return t.removeOrder(e.orderId,r)}}},[a("van-icon",{attrs:{name:"delete"}})],1)])])]),a("div",{staticClass:"order-box"},[a("div",t._l(e.products,(function(e,r){return a("div",{key:r,staticClass:"clearfix cell-box"},[a("div",{staticClass:"fl pro-img"},[a("img",{staticClass:"auto-img",attrs:{src:e.smallImg,alt:""}})]),a("div",{staticClass:"fl pro-info"},[a("div",{staticClass:"text-box"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fl text-name"},[t._v(t._s(e.name))]),a("div",{staticClass:"fl text-rule"},[t._v(t._s(e.rule))])]),a("div",{staticClass:"text-enname"},[t._v(t._s(e.enname))])]),a("div",{staticClass:"price-box"},[a("div",{staticClass:"fl price"},[t._v("￥"+t._s(e.price))]),a("div",{staticClass:"fr count"},[t._v("x"+t._s(e.count))])])])])})),0),a("div",{staticClass:"pro-box"},[a("div",{staticClass:"pro-boxing"},[a("div",{staticClass:"date"},[t._v(t._s(e.date))]),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fl pro-count"},[t._v("共计 "+t._s(e.count)+" 件商品")]),a("div",{staticClass:"fr pro-total"},[t._v("合计 ￥"+t._s(e.total))])])]),a("div",{staticClass:"left-box left"}),a("div",{staticClass:"left-box right"})])])])})),0):a("div",[a("van-empty",{attrs:{description:"订单数据空空如也，去逛一逛!"}},[a("van-button",{staticClass:"bottom-button",attrs:{round:"",color:"#0C34BA"},on:{click:t.goMenu}},[t._v("去逛一逛")])],1)],1)])})),1)],1)],1)},i=[],n=(a("d81d"),a("a434"),a("be7a"),a("2f14")),o={data:function(){return{n:"2020-08-13T02:18:50.000Z",tabIndex:0,orderDatas:[],tabItems:[{title:"全部"},{title:"进行中"},{title:"已完成"}]}},created:function(){this.getOrderData(0)},methods:{back:function(){this.$router.go(-1)},goMenu:function(){this.$router.push({name:"Menu"})},getOrderData:function(t){var e=this,a=localStorage.getItem("CSTK");a&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:a,status:t}}).then((function(t){if(e.orderDatas=[],e.$toast.clear(),7e4==t.data.code){var a={};for(var r in t.data.result.map((function(t){a[t.oid]?(a[t.oid].count+=t.count,a[t.oid].total+=t.count*t.price,a[t.oid].products.push(t)):a[t.oid]={orderId:t.oid,date:t.createdAt,count:t.count,total:t.count*t.price,products:[t],status:t.status}})),a)e.orderDatas.push(a[r]);e.orderDatas.sort((function(t,e){return new Date(e.date).getTime()-new Date(t.date).getTime()}))}})).catch((function(t){e.$toast.clear()})))},toggleStatus:function(t){this.getOrderData(t)},confirmReceive:function(t,e){var a=this,r=localStorage.getItem("CSTK");if(r){var i=n["a"].queryString({appkey:this.appkey,tokenString:r,oid:t.orderId});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/receive",data:i}).then((function(r){a.$toast.clear(),8e4==r.data.code&&(a.$toast(r.data.msg),1==a.tabIndex?a.orderDatas.splice(e,1):t.status=2)})).catch((function(t){a.$toast.clear()}))}},removeOrder:function(t,e){var a=this,r=localStorage.getItem("CSTK");if(r){var i=n["a"].queryString({appkey:this.appkey,tokenString:r,oid:t});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/removeOrder",data:i}).then((function(t){a.$toast.clear(),9e4==t.data.code&&(a.$toast(t.data.msg),a.orderDatas.splice(e,1))})).catch((function(t){a.$toast.clear()}))}}}},s=o,c=a("2877"),l=Object(c["a"])(s,r,i,!1,null,null,null);e["default"]=l.exports},d81d:function(t,e,a){"use strict";var r=a("23e7"),i=a("b727").map,n=a("1dde"),o=a("ae40"),s=n("map"),c=o("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,a){var r=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},fb6a:function(t,e,a){"use strict";var r=a("23e7"),i=a("861d"),n=a("e8b5"),o=a("23cb"),s=a("50c4"),c=a("fc6a"),l=a("8418"),d=a("b622"),u=a("1dde"),f=a("ae40"),v=u("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),b=d("species"),h=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!v||!p},{slice:function(t,e){var a,r,d,u=c(this),f=s(u.length),v=o(t,f),p=o(void 0===e?f:e,f);if(n(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?i(a)&&(a=a[b],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(u,v,p);for(r=new(void 0===a?Array:a)(g(p-v,0)),d=0;v<p;v++,d++)v in u&&l(r,d,u[v]);return r.length=d,r}})}}]);
//# sourceMappingURL=chunk-a6500574.576e0af8.js.map