{"version":3,"sources":["webpack:///./src/views/mainViews/My.vue?172f","webpack:///src/views/mainViews/My.vue","webpack:///./src/views/mainViews/My.vue?6dbb","webpack:///./src/views/mainViews/My.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","isLogin","expression","attrs","userInfo","userImg","on","$event","login","_v","_s","nickName","logout","staticRenderFns","component"],"mappings":"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","file":"js/chunk-19dce488.ad8acd67.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my\"},[_c('div',{staticClass:\"background\"}),_c('div',{staticClass:\"card-box\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"img\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLogin),expression:\"!isLogin\"}],attrs:{\"src\":\"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=499802726,796179802&fm=26&gp=0.jpg\",\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLogin),expression:\"isLogin\"}],attrs:{\"src\":_vm.userInfo.userImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"user-name\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLogin),expression:\"!isLogin\"}],on:{\"click\":function($event){return _vm.login('Login')}}},[_vm._v(\"请先登录\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLogin),expression:\"isLogin\"}]},[_vm._v(_vm._s(_vm.userInfo.nickName))]),_c('br'),_c('van-tag',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLogin),expression:\"isLogin\"}],attrs:{\"round\":\"\",\"type\":\"primary\",\"color\":\"#0c34ba\"}},[_vm._v(\"钻石会员\")])],1)]),_c('div',{staticClass:\"bar\"},[_c('van-cell',{attrs:{\"title\":\"个人中心\"},on:{\"click\":function($event){return _vm.login('Account')}}}),_c('van-cell',{attrs:{\"title\":\"地址管理\"},on:{\"click\":function($event){return _vm.login('Address')}}}),_c('van-cell',{attrs:{\"title\":\"订单信息\"},on:{\"click\":function($event){return _vm.login('Order')}}})],1)])]),_c('div',{staticClass:\"botton-box\"},[_c('div',{staticClass:\"botton\"},[_c('van-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLogin),expression:\"isLogin\"}],attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"},on:{\"click\":_vm.logout}},[_vm._v(\"退出登录\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"my\">\r\n        <div class=\"background\"></div>\r\n        <div class=\"card-box\">\r\n            <div class=\"card\">\r\n                <div class=\"user\">\r\n                    <div class=\"img\">\r\n                        <img\r\n                            v-show=\"!isLogin\"\r\n                            src=\"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=499802726,796179802&fm=26&gp=0.jpg\"\r\n                            alt\r\n                        />\r\n                        <img v-show=\"isLogin\" :src=\"userInfo.userImg\" alt />\r\n                    </div>\r\n                    <div class=\"user-name\">\r\n                        <span v-show=\"!isLogin\" @click=\"login('Login')\">请先登录</span>\r\n                        <span v-show=\"isLogin\">{{userInfo.nickName}}</span>\r\n                        <br />\r\n                        <van-tag round type=\"primary\" color=\"#0c34ba\" v-show=\"isLogin\">钻石会员</van-tag>\r\n                    </div>\r\n                </div>\r\n                <div class=\"bar\">\r\n                    <van-cell title=\"个人中心\" @click=\"login('Account')\" />\r\n                    <van-cell title=\"地址管理\" @click=\"login('Address')\" />\r\n                    <van-cell title=\"订单信息\" @click=\"login('Order')\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"botton-box\">\r\n            <div class=\"botton\">\r\n                <van-button\r\n                    round\r\n                    block\r\n                    type=\"info\"\r\n                    native-type=\"submit\"\r\n                    @click=\"logout\"\r\n                    v-show=\"isLogin\"\r\n                >退出登录</van-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../../assets/less/my.less\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            isLogin: false,\r\n            userInfo: {},\r\n        };\r\n    },\r\n    created() {\r\n        this.getUserInfo();\r\n    },\r\n    methods: {\r\n        // 获取用户数据\r\n        getUserInfo() {\r\n            let tokenString = localStorage.getItem(\"CSTK\");\r\n            if (!tokenString) {\r\n                this.isLogin = false;\r\n                return;\r\n            }\r\n\r\n            this.$toast.loading({\r\n                message: \"加载中...\",\r\n                forbidClick: true,\r\n                duration: 0,\r\n                loadingType: \"spinner\",\r\n            });\r\n\r\n            this.axios({\r\n                method: \"GET\",\r\n                url: \"/findMy\",\r\n                params: {\r\n                    appkey: this.appkey,\r\n                    tokenString,\r\n                },\r\n            })\r\n                .then((result) => {\r\n                    this.$toast.clear();\r\n                    this.isLogin = true;\r\n                    if (result.data.code == \"A001\") {\r\n                        if (result.data.result.length > 0) {\r\n                            this.isLogin = true;\r\n                            this.userInfo = result.data.result[0];\r\n                        }\r\n                    }\r\n                     \r\n                })\r\n                .catch((err) => {\r\n                    this.$toast.clear();\r\n                });\r\n        },\r\n        // 退出登陆\r\n        logout() {\r\n            this.$dialog\r\n                .confirm({\r\n                    title: \"退出登录\",\r\n                    message: \"是否确认退出登录！\",\r\n                    confirmButtonColor: \"#0C34BA\",\r\n                })\r\n                .then(() => {\r\n                    this.$toast.loading({\r\n                        message: \"加载中...\",\r\n                        forbidClick: true,\r\n                        duration: 0,\r\n                        loadingType: \"spinner\",\r\n                    });\r\n\r\n                    localStorage.removeItem(\"CSTK\");\r\n\r\n                    setTimeout(() => {\r\n                        this.$toast.clear();\r\n                        this.$router.push({ name: \"Login\" });\r\n                    }, 1000);\r\n                });\r\n        },\r\n        // 如果未登录跳转至登陆页\r\n        login(url) {\r\n             \r\n            if (this.isLogin == false) {\r\n                this.$router.push({ name: \"Login\" });\r\n            } else {\r\n                this.$router.push({ name: url });\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./My.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./My.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./My.vue?vue&type=template&id=06697b4d&scoped=true&\"\nimport script from \"./My.vue?vue&type=script&lang=js&\"\nexport * from \"./My.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06697b4d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}